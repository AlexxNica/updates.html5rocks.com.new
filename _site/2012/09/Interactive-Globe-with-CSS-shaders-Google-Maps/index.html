<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta property="twitter:account_id" content="1593210261" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="A resource for developers looking to put HTML5 to use today, including information on specific features and when to use them in your apps.">
<meta name="keywords" content="html5,html 5,html5 demos,html5 examples,javascript,css3,notifications,geolocation,web workers,apppcache,file api,filereader,indexeddb,offline,audio,video,drag and drop,chrome,sse,mobile">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Interactive Globe with CSS shaders & Google Maps</title>

<!-- Add to homescreen for Chrome on Android -->
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="192x192" href="  /assets/HTML5_Badge_192-f9389f6cad587f357d82be791970c8ad.png">

<!-- Add to homescreen for Safari on iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="HTML5 Rocks">
<link rel="apple-touch-icon-precomposed" href="/assets/HTML5_Badge_192-f9389f6cad587f357d82be791970c8ad.png
">

<!-- Tile icon for Win8 (144x144 + tile color) -->
<meta name="msapplication-TileImage" content="/assets/HTML5_Badge_144-ddcf1cea1a1204b1733041733d66f76a.png
">
<meta name="msapplication-TileColor" content="#3372DF">

<!-- TODO: consider rel=canonical -->
<!-- TODO: consider rel=publisher -->
<link rel="alternate" type="application/rss+xml" title="HTML5 Rocks RSS" href="http://feeds.feedburner.com/html5rocks">
<link rel="publisher" href="https://plus.google.com/+GoogleChromeDevelopers">




  




<link href="//fonts.googleapis.com/css?family=Open+Sans:600,800|Source+Code+Pro" rel="stylesheet">
<link rel="stylesheet" href="/assets/main-8dae1b06ec239bb8b24c3d98cd1ad04b.css">

<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5-els.js"></script>
<![endif]-->

  </head>
  <body>
    <header class="main" id="siteheader">
  <a href="#sitenav" id="navtoggle"></a>
  <nav id="sitenav" class="container">
    <ul>
      <li id="tutorials_menu">
        <a href="http://www.html5rocks.com" class="tutorials">Home</a>
      </li>
      <li id="tutorials_menu">
        <a href="http://www.html5rocks.com/en/tutorials/?page=1" class="tutorials">Tutorials</a>
      </li>
      <li id="updates_menu">
        <a href="http://www.html5rocks.com/en/updates" class="updates">Updates</a>
      </li>
      <li id="contrib_menu">
        <a href="https://github.com/html5rocks/www.html5rocks.com/blob/master/CONTRIBUTING.md" target="_blank">Contribute</a>
      </li>
      <li id="slides_menu">
        <a href="http://www.html5rocks.com/en/slides" class="slides">Slides</a>
      </li>
      <li id="resources_menu">
        <a href="http://www.html5rocks.com/en/resources" class="resources">Resources</a>
      </li>
    </ul>
  </nav>
</header>

    <div class="body-content">
      <section class="banner">
        <section class="container">
          <a href="/en/" class="watermark"></a>
          <h1>Interactive Globe with CSS shaders & Google Maps</h1>
          
        </section>
      </section>
      <article class="content-wrapper article">
<div class="container">
  <section class="byline clearfix">
    <section class="author-images">
      
        
<!-- TODO: change image address.-->

<img src="http://www.html5rocks.com/static/images/profiles/paulirish.png"
     alt="Paul Irish"
     title="Paul Irish"
     width="60" height="60"
     class="avatar">



      
    </section>
    <section class="meta">
      <div class="authors">
          
    
    <!-- TODO: change link. -->
    <strong>By</strong> <a href="http://www.html5rocks.com/profiles/#paulirish">
      Paul Irish
    </a> 
  

      </div>
      <div class="published">
        <time pubdate=""><strong>Published:</strong> September 26, 2012</time>
      </div>
      <div class="updated">
        <time><strong>Updated:</strong> September 26, 2012</time>
      </div>
      <div class="comments">
        <span><strong>Comments:</strong> <a href="#disqus_thread" class="load-comments" data-disqus-identifier="http://html5rocks.com/updates//2012/09/Interactive-Globe-with-CSS-shaders-Google-Maps"></a></span>
      </div>
      <div id="notcompatible" class="hidden">
        Your browser may not support the functionality in this article.
      </div>
    </section>
  </section>
  <section class="content">
    <script>
var scripts = document.querySelectorAll('script');
var thisscript = scripts[scripts.length-1];
thisscript.parentNode.parentNode.id = 'shaderglobe';
</script>

<style>
#shaderglobe .time-author a:before { content: "Avaz Bokiev ";}
#shaderglobe .time-author a { display: inline-block;
width: 102px;
overflow: hidden;
height: 23px;
line-height: 21px;
text-decoration: none;
vertical-align: middle;
}
.globe{
  width: 550px;
  height: 550px;
  border: 0;
  -webkit-filter: contrast(1.4)
custom(url(http://is.gd/spherifyvs) mix(url(http://is.gd/spherifyfs) multiply source-atop), 50 50 border-box, amount 1, sphereRadius 0.5, sphereAxis -0.41 1 0.19, sphereRotation 43.5, ambientLight 0.15, lightPosition 1 0.87 0.25, lightColor 1 1 1 1, transform perspective(500));
}
</style>

<p>Recently, I have read <a href="http://www.webmonkey.com/2012/09/adobes-css-shaders-now-an-official-web-standard/" title="" target="_blank">news on Webmonkey</a> that Adobeâ€™s CSS Shaders proposal, which will bring high-quality cinematic effects to the web through some new CSS tools, has been accepted by the W3C. If you haven't seen it yet, watch the video below:</p>

<div class="video-container"><iframe src="//www.youtube.com/embed/NZRqnohI3m4 " frameborder="0" allowfullscreen=""></iframe></div>

<!--The Web is developing so quickly, it surprises me.-->

<p>Google Chrome's latest Canary added support for CSS shaders, so I decided to experiment with them.</p>

<p>In this experiment, I used custom vertex shader (<code>spherify.vs</code>) and fragment shader (<code>spherify.fs</code>) to create a globe with Google Maps.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;iframe</span>
  <span class="na">class=</span><span class="s">&quot;globe&quot;</span>
  <span class="na">src=</span><span class="s">&quot;http://maps.google.com/?ie=UTF8&amp;amp;amp;ll=14.597042,-15.625&amp;amp;amp;spn=158.47027,316.054688&amp;amp;amp;t=h&amp;amp;amp;z=2&amp;amp;amp;output=embed&quot;</span>
  <span class="na">scrolling=</span><span class="s">&quot;no&quot;</span><span class="nt">&gt;&lt;/iframe&gt;</span></code></pre></div>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.globe</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">550px</span><span class="p">;</span>
  <span class="k">height</span><span class="o">:</span> <span class="m">550px</span><span class="p">;</span>
  <span class="k">border</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">filter</span><span class="o">:</span> <span class="n">contrast</span><span class="p">(</span><span class="m">1</span><span class="o">.</span><span class="m">4</span><span class="p">)</span> <span class="n">custom</span><span class="p">(</span><span class="sx">url(shaders/spherify.vs)</span> <span class="k">mix</span><span class="p">(</span><span class="sx">url(shaders/spherify.fs)</span> <span class="n">multiply</span> <span class="n">source</span><span class="o">-</span><span class="n">atop</span><span class="p">)</span><span class="o">,</span>
    <span class="m">50</span> <span class="m">50</span> <span class="k">border</span><span class="o">-</span><span class="n">box</span><span class="o">,</span>
    <span class="n">amount</span> <span class="m">1</span><span class="o">,</span>
    <span class="n">sphereRadius</span> <span class="m">0</span><span class="o">.</span><span class="m">5</span><span class="o">,</span>
    <span class="n">sphereAxis</span> <span class="m">-0</span><span class="o">.</span><span class="m">41</span> <span class="m">1</span> <span class="m">0</span><span class="o">.</span><span class="m">19</span><span class="o">,</span>
    <span class="n">sphereRotation</span> <span class="m">43</span><span class="o">.</span><span class="m">5</span><span class="o">,</span>
    <span class="n">ambientLight</span> <span class="m">0</span><span class="o">.</span><span class="m">15</span><span class="o">,</span>
    <span class="n">lightPosition</span> <span class="m">1</span> <span class="m">0</span><span class="o">.</span><span class="m">87</span> <span class="m">0</span><span class="o">.</span><span class="m">25</span><span class="o">,</span>
    <span class="n">lightColor</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span><span class="o">,</span>
    <span class="n">transform</span> <span class="n">perspective</span><span class="p">(</span><span class="m">500</span><span class="p">));</span>
<span class="p">}</span></code></pre></div>

<p>
Here, we're applying a vertex shader (<code>spherify.vs</code>) which will operate on a mesh that has 50 lines and 50 columns (<code>50 50 border-box</code>). Feel free to read the source of the vertex shader: <a href="http://is.gd/spherifyvs">spherify.vs</a>. It's written in <a href="http://en.wikipedia.org/wiki/GLSL">GLSL</a> but you can probably follow along.
</p>
<p>The <code>mix()</code> function provides basic functionalities for color manipulation like blending and alpha compositing on a fragment shader. </p>

<p>We can change the shere's radius, axis, rotation right in the CSS. In this example we set the value of the <code>sphereRadius: 0.5 </code>and it gives original sphere size.</p>

<h3>Enjoy the demo!</h3>

<p>Below is a video of the effect. If you've got shaders enabled you can play with the real thing right below!</p>

<div class="video-container"><iframe src="//www.youtube.com/embed/5TG6TK2nueo " frameborder="0" allowfullscreen=""></iframe></div>

<iframe class="globe" src="http://maps.google.com/?ie=UTF8&amp;ll=14.597042,-15.625&amp;spn=158.47027,316.054688&amp;t=h&amp;z=2&amp;output=embed" scrolling="no"></iframe>

<p><small>If you just see a flat google maps above, you can enable it with the instructions below</small></p>

<h3>Browsers support: CSS shaders</h3>
<p>This is currently cutting-edge, so it's only available in the latest <a href="https://tools.google.com/dlpage/chromesxs" title="Download Google Chrome Canary" target="_blank">Google Chrome Canary</a> and WebKit nightly. To enjoy the full experience you'll need to turn a few knobs.
</p>
<h4>Chrome Canary steps:</h4>
<ul>
	<li>Type <code>about:flags</code> in the browser's navigation bar</li>
        <li>Find "Enable CSS Shaders". Enable it
	<li>Relaunch the browser</li>

<h4>WebKit nightly steps</h4>
<ul>
	<li>Download and install <a href="http://nightly.webkit.org/" title="Download WebKit nightly build for Mac" target="_blank">WebKit nightly</a> for Mac OSX</li>
	<li>Open the browser's preferences panel. Go to <b>Advanced</b> tab and tick to show <b>Develop &gt; Enable WebGL</b> menu in the menu bar.</li>
	<li>In the browser's menu bar select <b>Develop </b></li>
</ul>



<aside class="bio clearfix" style="border: 3px double #CCC;
padding: 10px;">

&lt;img src="http://api.twitter.com/1/users/profile_image/samarkandiy?size=normal" align=left style="margin: 0 10px 0 0; border: 1px solid gray; border-radius:2px"&gt;


Avaz Bokiev is a web developer in NYC. <a href="https://twitter.com/samarkandiy">Follow him at @samarkandiy</a>, check out his recent experiments (including CSS Shader ones) at <a href="http://codepen.io/html5web">codepen.io/html5web</a> and his blog at <a href="http://azik.me/">azik.me</a>.

</aside>
</li></ul>

  </section>
  <section>
    <!-- TODO: Update link. -->
    
      <a href="/tag/graphics" class="tag">graphics</a>
    
      <a href="/tag/shaders" class="tag">shaders</a>
    
      <a href="/tag/CSS" class="tag">CSS</a>
    
      <a href="/tag/3D" class="tag">3D</a>
    
  </section>
  <div class="pager">
    
    <a href="/2012/09/Live-Web-Audio-Input-Enabled">&laquo; Live Web Audio Input Enabled!</a>
     | 
    <a href="/2012/11/Content-Security-Policy-1-0-is-officially-awesome">Content Security Policy 1.0 is officially awesome. &raquo;</a>
    
  </div>
</div>
</article>
<section class="disqus pattern-bg-lighter">
  <div id="disqus" class="container">
    <h2>Comments</h2>
    <div id="disqus_thread">
      <a href="#disqus_thread" class="load-comments"
          data-disqus-identifier="/2012/09/Interactive-Globe-with-CSS-shaders-Google-Maps">0</a>
    </div>
  </div>

  <noscript>
    <p class="center">
      <strong>
        <a href="http://disqus.com/?ref_noscript">Please enable JavaScript to view the comments powered by Disqus.</a>
      </strong>
    </p>
  </noscript>

  <script>

    var disqus_shortname = 'html5rocks';
    var disqus_identifier = 'http://html5rocks.com/updates//2012/09/Interactive-Globe-with-CSS-shaders-Google-Maps';
    var disqus_url = 'http://html5rocks.com/updates//2012/09/Interactive-Globe-with-CSS-shaders-Google-Maps';
    var disqus_developer = 0;

    var disqus_config = function () {
      var funky_language_code_mapping = {
        'de': 'de_inf',
        'es': 'es_ES',
        'pt': 'pt_EU',
        'sr': 'sr_CYRL',
        'sv': 'sv_SE',
        'zh': 'zh_HANT'
      };
      this.language = funky_language_code_mapping['en'] ||
                      'en';

      this.callbacks.onReady = [ function () {
                                    try {
                                      ga('send', 'event', 'View comments');
                                    } catch(err){}
                                 } ];
      this.callbacks.onNewComment = [ function (comment) {
                                        try {
                                          ga('send', 'event', 'Commented');
                                        } catch(err){}
                                      } ];
    };

    window.addEventListener('load', function(e) {

      var c = document.createElement('script');
      c.type = 'text/javascript';
      c.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      c.async = true;

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      sp.insertBefore(c, s);

      if (window.location.hash === '#disqus_thread')
        loadComments();

    }, false);

    var disqus_loaded = false;
    function loadComments() {

      if (disqus_loaded)
        return;

      disqus_loaded = true;

      ga('send', 'event', 'Interactions', 'Comments', 'Comments Loaded');

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;

      var disqusContainer = document.getElementById('disqus');
      disqusContainer.classList.add('active');

      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      sp.insertBefore(dsq, s);
    }
    var loadCommentsButtons = document.querySelectorAll('.load-comments');
    for(var l = 0; l < loadCommentsButtons.length; l++)
      loadCommentsButtons[l].addEventListener('click', loadComments);

  </script>
</section>



    </div>
    <footer>
  <div class="container">
    
    <h1>Next steps</h1>
    <aside class="panel share">
      <h2>Share</h2>
        <a href="https://twitter.com/share?url=http://www.html5rocks.com/tutorials/shapes/getting-started/&amp;text=Getting Started with CSS Shapes&amp;lang=en&amp;via=ChromiumDev&amp;related=ChromiumDev" class="twitter" target="_blank">Twitter</a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.html5rocks.com/tutorials/shapes/getting-started/" class="facebook" target="_blank">Facebook</a>
        <a href="https://plus.google.com/share?url=http://www.html5rocks.com/tutorials/shapes/getting-started/" class="gplus" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">Google+</a>
    </aside>
    <aside class="panel rss">
      <h2>Subscribe</h2>
      <p>Enjoyed this article? Grab the <a href="http://feeds.feedburner.com/html5rocks">RSS feed</a> and stay up-to-date.</p>
    </aside>
    
    <p class="licensing">
      Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
    </p>
  </div>
</footer>


    <script>
      (function() {

        var siteHeader = document.getElementById('siteheader');
        var navToggle = document.getElementById('navtoggle');
        var siteNav = document.getElementById('sitenav');

        navToggle.addEventListener('click', function(e) {
          siteNav.classList.toggle('active');
          e.preventDefault();
        });

      })();
    </script>

    <!-- TODO: change UA-XXXXX-X -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-XXXXX-X', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
