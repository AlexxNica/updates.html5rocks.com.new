<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta property="twitter:account_id" content="1593210261" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="A resource for developers looking to put HTML5 to use today, including information on specific features and when to use them in your apps.">
<meta name="keywords" content="html5,html 5,html5 demos,html5 examples,javascript,css3,notifications,geolocation,web workers,apppcache,file api,filereader,indexeddb,offline,audio,video,drag and drop,chrome,sse,mobile">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CSS Background shorthand coming to mobile WebKit browsers</title>

<!-- Add to homescreen for Chrome on Android -->
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="192x192" href="  /assets/HTML5_Badge_192-f9389f6cad587f357d82be791970c8ad.png">

<!-- Add to homescreen for Safari on iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="HTML5 Rocks">
<link rel="apple-touch-icon-precomposed" href="/assets/HTML5_Badge_192-f9389f6cad587f357d82be791970c8ad.png
">

<!-- Tile icon for Win8 (144x144 + tile color) -->
<meta name="msapplication-TileImage" content="/assets/HTML5_Badge_144-ddcf1cea1a1204b1733041733d66f76a.png
">
<meta name="msapplication-TileColor" content="#3372DF">

<!-- TODO: consider rel=canonical -->
<!-- TODO: consider rel=publisher -->
<link rel="alternate" type="application/rss+xml" title="HTML5 Rocks RSS" href="http://feeds.feedburner.com/html5rocks">
<link rel="publisher" href="https://plus.google.com/+GoogleChromeDevelopers">




  




<link href="//fonts.googleapis.com/css?family=Open+Sans:600,800|Source+Code+Pro" rel="stylesheet">
<link rel="stylesheet" href="/assets/main-8dae1b06ec239bb8b24c3d98cd1ad04b.css">

<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5-els.js"></script>
<![endif]-->

  </head>
  <body>
    <header class="main" id="siteheader">
  <a href="#sitenav" id="navtoggle"></a>
  <nav id="sitenav" class="container">
    <ul>
      <li id="tutorials_menu">
        <a href="http://www.html5rocks.com" class="tutorials">Home</a>
      </li>
      <li id="tutorials_menu">
        <a href="http://www.html5rocks.com/en/tutorials/?page=1" class="tutorials">Tutorials</a>
      </li>
      <li id="updates_menu">
        <a href="http://www.html5rocks.com/en/updates" class="updates">Updates</a>
      </li>
      <li id="contrib_menu">
        <a href="https://github.com/html5rocks/www.html5rocks.com/blob/master/CONTRIBUTING.md" target="_blank">Contribute</a>
      </li>
      <li id="slides_menu">
        <a href="http://www.html5rocks.com/en/slides" class="slides">Slides</a>
      </li>
      <li id="resources_menu">
        <a href="http://www.html5rocks.com/en/resources" class="resources">Resources</a>
      </li>
    </ul>
  </nav>
</header>

    <div class="body-content">
      <section class="banner">
        <section class="container">
          <a href="/en/" class="watermark"></a>
          <h1>CSS Background shorthand coming to mobile WebKit browsers</h1>
          
        </section>
      </section>
      <article class="content-wrapper article">
<div class="container">
  <section class="byline clearfix">
    <section class="author-images">
      
        
<!-- TODO: change image address.-->

<img src="http://www.html5rocks.com/static/images/profiles/petele.png"
     alt="Pete LePage"
     title="Pete LePage"
     width="60" height="60"
     class="avatar">



      
    </section>
    <section class="meta">
      <div class="authors">
          
    
    <!-- TODO: change link. -->
    <strong>By</strong> <a href="http://www.html5rocks.com/profiles/#petele">
      Pete LePage
    </a> 
  

      </div>
      <div class="published">
        <time pubdate=""><strong>Published:</strong> February 01, 2013</time>
      </div>
      <div class="updated">
        <time><strong>Updated:</strong> February 01, 2013</time>
      </div>
      <div class="comments">
        <span><strong>Comments:</strong> <a href="#disqus_thread" class="load-comments" data-disqus-identifier="http://updates.html5rocks.com/2013/02/CSS-Background-shorthand-coming-to-mobile-WebKit-browsers"></a></span>
      </div>
      <div id="notcompatible" class="hidden">
        Your browser may not support the functionality in this article.
      </div>
    </section>
  </section>
  <section class="content">
    <p>Earlier this year, WebKit <a href="https://bugs.webkit.org/show_bug.cgi?id=27577">updated the behavior</a> of the CSS <code>background</code> shorthand property.  With this change, the <code>background</code> shorthand property will reset the <code>background-size</code> to its default value of <code>auto auto</code> if it’s not set in the shorthand declaration.  This change brings Chrome and other WebKit browsers in compliance with the specification and matches the behavior of Firefox, Opera and Internet Explorer.</p>

<p>With Chrome for Android moving forward to current revisions on WebKit, this change is now rolling out in Android.  Because this was a fix to webkit, sites that tested in multiple browsers are likely not affected.</p>

<h3 id="old-way-of-doing-things">Old way of doing things</h3>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">//</span> <span class="nt">background-size</span> <span class="nt">is</span> <span class="nt">reset</span> <span class="nt">to</span> <span class="nt">auto</span> <span class="nt">auto</span> <span class="nt">by</span> <span class="nt">the</span> <span class="nt">background</span> <span class="nt">shorthand</span>
<span class="nc">.foo</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">-</span><span class="k">size</span><span class="o">:</span> <span class="m">50px</span> <span class="m">40px</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="sx">url(foo.png)</span> <span class="k">no-repeat</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>The <code>background</code> shorthand property does not contain any size property and will therefore reset the <code>background-size</code> to its default value of <code>auto auto</code>.</p>

<h3 id="correct-way-to-specifying-image-size">Correct way to specifying image size</h3>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">//</span> <span class="nt">background-size</span> <span class="nt">is</span> <span class="nt">specified</span> <span class="nt">after</span> <span class="nt">background</span>
<span class="nc">.fooA</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">:</span> <span class="sx">url(foo.png)</span> <span class="k">no-repeat</span><span class="p">;</span>
  <span class="k">background</span><span class="o">-</span><span class="k">size</span><span class="o">:</span> <span class="m">50px</span> <span class="m">40px</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span> <span class="nt">background-size</span> <span class="nt">is</span> <span class="nt">specified</span> <span class="nt">inline</span> <span class="nt">after</span> <span class="nt">position</span>
<span class="nc">.fooB</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">:</span> <span class="sx">url(foo.png)</span> <span class="m">0%</span> <span class="o">/</span> <span class="m">50px</span> <span class="m">40px</span> <span class="k">no-repeat</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<table>
  <tbody>
    <tr>
      <td>In <code>fooB</code>, specifying a <code>background-size</code> in the <code>background</code> shorthand requires the <code>position</code> (0%) be specified first, followed by a forward slash then the <code>background-size</code> (50px 40px).</td>
    </tr>
  </tbody>
</table>

<h3 id="fixes-for-existing-code">Fixes for existing code</h3>

<p>There are several options that will provide an easy fix for this:</p>

<ul>
  <li>Use <code>background-image</code> instead of the <code>background</code> shorthand property.</li>
  <li>Set the <code>background-size</code> last, with a higher specificity than any other CSS rules that set <code>background</code> on that element, and don’t forget to check and <code>:hover</code> rules.</li>
  <li>Apply the <code>!important</code> property to <code>background-size</code>.</li>
  <li>Move the sizing information to the <code>background</code> shorthand property.</li>
</ul>

<h3 id="bonus-background-image-offsets">Bonus: background image offsets</h3>

<p>In addition to this change, there’s now greater flexibility in positioning the image within the background.  In the past, you could only specify the image position relative from the top left corner, now you can specify an offset from the edges of the container.  For example setting <code>background-position: right 5px bottom 5px;</code> the image will be positioned 5px from the right edge and 5px from the bottom.  Check out this <a href="http://jsbin.com/ixogup/1/edit">sample on JSBin</a></p>

  </section>
  <section>
    <!-- TODO: Update link. -->
    
      <a href="/tag/mobile" class="tag">mobile</a>
    
      <a href="/tag/nuts_and_bolts" class="tag">nuts and bolts</a>
    
      <a href="/tag/graphics" class="tag">graphics</a>
    
      <a href="/tag/css" class="tag">css</a>
    
      <a href="/tag/announcements" class="tag">announcements</a>
    
  </section>
  <div class="pager">
    
    <a href="/2013/01/Voice-Driven-Web-Apps-Introduction-to-the-Web-Speech-API">&laquo; Voice Driven Web Apps: Introduction to the Web Speech API</a>
     | 
    <a href="/2013/02/WebRTC-data-channels-API-changes-and-Chrome-talks-to-Firefox">WebRTC: RTCDataChannel demo, API changes... and Chrome talks to Firefox! &raquo;</a>
    
  </div>
</div>
</article>
<section class="disqus pattern-bg-lighter">
  <div id="disqus" class="container">
    <h2>Comments</h2>
    <div id="disqus_thread">
      <a href="#disqus_thread" class="load-comments"
          data-disqus-identifier="/2013/02/CSS-Background-shorthand-coming-to-mobile-WebKit-browsers">0</a>
    </div>
  </div>

  <noscript>
    <p class="center">
      <strong>
        <a href="http://disqus.com/?ref_noscript">Please enable JavaScript to view the comments powered by Disqus.</a>
      </strong>
    </p>
  </noscript>

  <script>

    var disqus_shortname = 'html5rocks';
    var disqus_identifier = 'http://updates.html5rocks.com/2013/02/CSS-Background-shorthand-coming-to-mobile-WebKit-browsers';
    var disqus_url = 'http://updates.html5rocks.com/2013/02/CSS-Background-shorthand-coming-to-mobile-WebKit-browsers';
    var disqus_developer = 0;

    var disqus_config = function () {
      var funky_language_code_mapping = {
        'de': 'de_inf',
        'es': 'es_ES',
        'pt': 'pt_EU',
        'sr': 'sr_CYRL',
        'sv': 'sv_SE',
        'zh': 'zh_HANT'
      };
      this.language = funky_language_code_mapping['en'] ||
                      'en';

      this.callbacks.onReady = [ function () {
                                    try {
                                      ga('send', 'event', 'View comments');
                                    } catch(err){}
                                 } ];
      this.callbacks.onNewComment = [ function (comment) {
                                        try {
                                          ga('send', 'event', 'Commented');
                                        } catch(err){}
                                      } ];
    };

    window.addEventListener('load', function(e) {

      var c = document.createElement('script');
      c.type = 'text/javascript';
      c.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      c.async = true;

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      sp.insertBefore(c, s);

      if (window.location.hash === '#disqus_thread')
        loadComments();

    }, false);

    var disqus_loaded = false;
    function loadComments() {

      if (disqus_loaded)
        return;

      disqus_loaded = true;

      ga('send', 'event', 'Interactions', 'Comments', 'Comments Loaded');

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;

      var disqusContainer = document.getElementById('disqus');
      disqusContainer.classList.add('active');

      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      sp.insertBefore(dsq, s);
    }
    var loadCommentsButtons = document.querySelectorAll('.load-comments');
    for(var l = 0; l < loadCommentsButtons.length; l++)
      loadCommentsButtons[l].addEventListener('click', loadComments);

  </script>
</section>



    </div>
    <footer>
  <div class="container">
    
    <h1>Next steps</h1>
    <aside class="panel share">
      <h2>Share</h2>
        <a href="https://twitter.com/share?url=http://www.html5rocks.com/tutorials/shapes/getting-started/&amp;text=Getting Started with CSS Shapes&amp;lang=en&amp;via=ChromiumDev&amp;related=ChromiumDev" class="twitter" target="_blank">Twitter</a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.html5rocks.com/tutorials/shapes/getting-started/" class="facebook" target="_blank">Facebook</a>
        <a href="https://plus.google.com/share?url=http://www.html5rocks.com/tutorials/shapes/getting-started/" class="gplus" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">Google+</a>
    </aside>
    <aside class="panel rss">
      <h2>Subscribe</h2>
      <p>Enjoyed this article? Grab the <a href="http://feeds.feedburner.com/html5rocks">RSS feed</a> and stay up-to-date.</p>
    </aside>
    
    <p class="licensing">
      Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
    </p>
  </div>
</footer>


    <script>
      (function() {

        var siteHeader = document.getElementById('siteheader');
        var navToggle = document.getElementById('navtoggle');
        var siteNav = document.getElementById('sitenav');

        navToggle.addEventListener('click', function(e) {
          siteNav.classList.toggle('active');
          e.preventDefault();
        });

      })();
    </script>

    <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create','UA-15028909-7','auto');
      ga('create','UA-49880327-4','auto',{'name':'html5rocks'});
      ga('send','pageview');
      ga('html5rocks.send','pageview');
    </script>
  </body>
</html>
